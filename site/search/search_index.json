{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#introduction","title":"Introduction","text":"<p>The document aims to assist third parties to integrate with the new API Service which isn't only third party-agnostic but also integrable as a standalone service or in combination with other Docs offerings. The Global Docs Service now has a new Global Docs API Gateway which decouples Docs features from all architectural and service dependencies associated with other Fintech offerings.</p>"},{"location":"#global-docs-apis-overview","title":"Global Docs APIs - Overview","text":"<p>The Docs APIs uses the Representational State Transfer (REST) architecture, is third party-agnostic and integrable with existing third party components. To use the Docs APIs and view more technical details related to the API resource and attributes, refer to Docs Public APIs. Here is a brief structure of how each API is addressed in the document for users to understand and integrate with the new Global Docs features.</p> <ul> <li> <p>API name and description - The name of the endpoint in simple terms and a brief description of what it does.</p> </li> <li> <p>Query parameters - They enable to sort and filter data pulled from the APIs. Only the mandatory parameters are provided. For all parameters, refer to Docs Public APIs.</p> </li> <li> <p>Request parameters - They enable to pass data to an API endpoint when making a request. Only the mandatory parameters are provided. For all parameters, refer to Docs Public APIs.</p> </li> <li> <p>Method - The action to be performed on a given resource - GET, POST, PUT, PATCH, DELETE.</p> </li> <li> <p>Success Response - The HTTPS Code and description when the API call is successful.</p> </li> <li> <p>Request Sample - An example API request body in JSON format, with pre-populated representative values.</p> </li> <li> <p>Response Sample - An example API response body in JSON format, with pre-populated representative values.</p> </li> </ul> <p>The APIs documented here are grouped based on logical Docs feature categories, such as Docs Management, Transactions, and other Docs Activity. The end-to-end API workflow from start to end is also provided below for new users.</p>"},{"location":"api-reference/docs/docs-create/docs-contents-list-by-doc-id/","title":"List doc content and expiring content by doc ID","text":""},{"location":"api-reference/docs/docs-create/docs-contents-list-by-doc-id/#list-doc-contents-and-expiring-contents-api-reference","title":"List Doc Contents and Expiring Contents \u2014 API Reference","text":"<p>Retrieves the current contents and expiring contents associated with a specific Doc using its internal Doc ID.</p> <p>Endpoint</p> <p>GET /v1/docs/{id}/contents</p> <p>Path Parameters</p> Name Type Required Description <code>id</code> string Yes Internal unique identifier of the Doc <p>Headers</p> Header Required Type Description <code>Docs-Entity-ID</code> Yes string Third-party entity identifier <p>Example Request</p> <pre><code>curl -X GET \"{BASE_URL}/v1/docs/0f5w7ir5wcqj8ydeih3wpv0807/contents\" \\\n  -H \"Docs-Entity-ID: 12345\"\n</code></pre> <p>Example Success Response \u2014 200 OK</p> <pre><code>{\n  \"id\": \"0f5w7ir5wcqj8ydeih3wpv0807\",\n  \"aggregatedcontents\": {\n    \"primary\": {\n      \"type\": \"SAR\",\n      \"value\": 5\n    }\n  },\n  \"accounts\": [\n    {\n      \"accountType\": \"string\",\n      \"contents\": {\n        \"type\": \"SAR\",\n        \"value\": 5\n      },\n      \"expiringcontents\": [\n        {\n          \"amount\": {\n            \"type\": \"SAR\",\n            \"value\": 5\n          },\n          \"expirationDateTime\": \"2023-12-12T10:16:38Z\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre> <p>Status Codes</p> Status Code Meaning 200 OK Contents successfully retrieved 401 Unauthorized Authentication failed 403 Forbidden Access denied 404 Not Found Doc ID not found 422 Unprocessable Entity Invalid Doc ID <p>Error Response Structure</p> <pre><code>{\n  \"error\": {\n    \"code\": \"string\",\n    \"message\": \"string\",\n    \"details\": {}\n  }\n}\n</code></pre> <p>Common Errors</p> <ul> <li> <p><code>400</code> \u2014 Bad Request   Occurs when the Doc ID format is invalid or required path parameters are missing</p> </li> <li> <p><code>422</code> \u2014 Unprocessable Entity   Occurs when the Doc ID does not match the expected schema</p> </li> </ul>"},{"location":"api-reference/docs/docs-create/docs-create/","title":"Create a New Doc \u2014 API Reference","text":""},{"location":"api-reference/docs/docs-create/docs-create/#create-a-new-doc-api-reference","title":"Create a New Doc \u2014 API Reference","text":"<p>Creates a new Docs object for a user in the Docs ecosystem. If a user doesn't exist, supplying <code>externalId</code> automatically creates the user before provisioning the Docs object.</p> <p>Endpoint</p> <p>POST /v1/docs</p> <p>Required Headers</p> Header Required Description <code>Docs-Entity-ID</code> Yes Unique identifier of the third-party entity <code>X-Idempotency-Key</code> Yes Used to safely retry the same request <code>Content-Type</code> Yes Should be <code>application/json</code> <p>Request Body Schema</p> <pre><code>curl -X GET \"{BASE_URL}/v1/docs/0f5w7ir5wcqj8ydeih3wpv0807\" \\\n  -H \"Docs-Entity-ID: 12345\"\n</code></pre> <p>At least one of owner.id or owner.externalId is required.</p> Field Type Required Description <code>type</code> string Yes Type of Docs object to create <code>owner.id</code> string Conditional Required if <code>externalId</code> is not provided <code>owner.externalId</code> string Conditional Required if <code>id</code> is not provided <p>Example Request</p> <pre><code>curl -X POST \"{BASE_URL}/v1/docs\" \\\n -H \"Docs-Entity-ID: 12345\" \\\n -H \"X-Idempotency-Key: 9c8c-123abc-99\" \\\n -H \"Content-Type: application/json\" \\\n -d '{\n\"type\": \"full\",\n\"owner\": {\n\"id\": \"0f5ly1v7p3gqj5ii56e6k6q61x\",\n\"externalId\": \"unique-customer-code\"\n}\n}'\n</code></pre> <p>Example Success Response \u2014 201</p> <pre><code>{\n\"id\": \"asa0a98d0sa8d0sa9d8saasdsa9\",\n\"status\": \"created\",\n\"owner\": {\n\"id\": \"0f5ly1v7p3gqj5ii56e6k6q61x\",\n\"externalId\": \"unique-customer-code\"\n}\n}\n</code></pre> <p>Status Codes</p> Status Code Meaning 201 Created Docs object successfully created 400 Bad Request Missing or invalid fields 401 Unauthorized Authentication failure 409 Conflict Duplicate creation due to idempotency key 422 Unprocessable Entity Invalid request payload <p>Error Response Structure</p> <pre><code>{\n\"error\": {\n\"code\": \"string\",\n\"message\": \"string\",\n\"details\": {}\n}\n}\n</code></pre> <p>Common Errors</p> <ul> <li><code>400</code> \u2014 Missing Required Fields</li> </ul> <p>Occurs when type is missing or neither owner.id nor externalId is provided.</p> <ul> <li><code>409</code> \u2014 Duplicate Request</li> </ul> <p>Triggered when the same X-Idempotency-Key is reused intentionally or accidentally.</p> <ul> <li><code>422</code> \u2014 Invalid Data Format</li> </ul> <p>Occurs when IDs or values do not meet schema requirements.</p>"},{"location":"api-reference/docs/docs-create/docs-details-retrieve-by-doc-id/","title":"Retrieve doc details by doc ID","text":""},{"location":"api-reference/docs/docs-create/docs-details-retrieve-by-doc-id/#retrieve-doc-details-by-doc-id-api-reference","title":"Retrieve Doc Details by Doc ID \u2014 API Reference","text":"<p>Retrieves the complete details of a specific Doc using its internal Doc ID.</p> <p>Endpoint</p> <p>GET /v1/docs/{id}</p> <p>Path Parameters</p> Name Type Required Description <code>id</code> string Yes Internal unique identifier of the Doc <p>Headers</p> Header Required Type Description <code>Docs-Entity-ID</code> Yes string Third-party entity identifier <p>Example Request</p> <pre><code>curl -X GET \"{BASE_URL}/v1/docs/0f5w7ir5wcqj8ydeih3wpv0807\" \\\n  -H \"Docs-Entity-ID: 12345\"\n</code></pre> <p>Example Success Response \u2014 200 OK</p> <pre><code>{\n  \"id\": \"0f5w7ir5wcqj8ydeih3wpv0807\",\n  \"status\": \"Created\",\n  \"owner\": {\n    \"id\": \"0f5w7ir5wcqj8ydeih3wpv0807\",\n    \"type\": \"User\",\n    \"externalId\": \"sample\"\n  }\n}\n</code></pre> <p>Status Codes</p> Status Code Meaning 200 OK Doc successfully retrieved 401 Unauthorized Authentication failed 403 Forbidden Access denied 404 Not Found Doc ID not found 422 Unprocessable Entity Invalid Doc ID 500 Internal Server Error Server failure <p>Error Response Structure</p> <pre><code>{\n  \"error\": {\n    \"code\": \"string\",\n    \"message\": \"string\",\n    \"details\": {}\n  }\n}\n</code></pre> <p>Common Errors</p> <ul> <li><code>401</code> \u2014 Unauthorized</li> </ul> <p>Occurs when authentication credentials are missing or invalid.</p> <ul> <li><code>403</code> \u2014 Forbidden</li> </ul> <p>Occurs when the calling entity does not have access to the specified Doc.</p> <ul> <li><code>422</code> \u2014 Unprocessable Entity</li> </ul> <p>Occurs when the Doc ID does not meet the required schema.</p>"},{"location":"api-reference/docs/docs-create/docs-status-update/","title":"Update Doc Status","text":""},{"location":"api-reference/docs/docs-create/docs-status-update/#update-doc-status-api-reference","title":"Update Doc Status \u2014 API Reference","text":"<p>Updates the status of an existing Doc using its internal Doc ID. The request uses JSON Patch format.</p> <p>Endpoint</p> <p>PATCH /v1/docs/{id}</p> <p>Path Parameters</p> Name Type Required Description <code>id</code> string Yes Internal unique identifier of the Doc <p>Headers</p> Header Required Type Description <code>Docs-Entity-ID</code> Yes string Third-party entity identifier <code>Content-Type</code> Yes string <code>application/json</code> <p>Request Body (JSON Patch)</p> Field Type Required Description <code>path</code> string Yes Property to update (<code>/status</code>) <code>op</code> string Yes Operation to perform (<code>replace</code>) <code>value</code> string Yes New status (<code>active</code>, <code>pending</code>, <code>block</code>) <p>Example Request</p> <pre><code>curl -X PATCH \"{BASE_URL}/v1/docs/0f5w7ir5wcqj8ydeih3wpv0807\" \\\n  -H \"Docs-Entity-ID: 12345\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '[\n        {\n          \"path\": \"/status\",\n          \"op\": \"replace\",\n          \"value\": \"block\"\n        }\n      ]'\n</code></pre> <p>Example Success Response \u2014 200 OK</p> <pre><code>{\n  \"id\": \"0f5w7ir5wcqj8ydeih3wpv0807\",\n  \"status\": \"Created\",\n  \"owner\": {\n    \"id\": \"0f5w7ir5wcqj8ydeih3wpv0807\",\n    \"type\": \"User\",\n    \"externalId\": \"sample\"\n  }\n}\n</code></pre> <p>Status Codes</p> Status Code Meaning 200 OK Doc status successfully updated 400 Bad Request Invalid patch format 401 Unauthorized Authentication failed 403 Forbidden Access denied 404 Not Found Doc ID not found 422 Unprocessable Entity Invalid status value 500 Internal Server Error Server failure <p>Error Response Structure</p> <pre><code>{\n  \"error\": {\n    \"code\": \"string\",\n    \"message\": \"string\",\n    \"details\": {}\n  }\n}\n</code></pre> <p>Common Errors</p> <ul> <li><code>400</code> \u2014 Bad Request</li> </ul> <p>Occurs when the Patch operation is malformed, or an invalid path, op, or value is provided.</p> <ul> <li><code>403</code> \u2014 Forbidden</li> </ul> <p>Occurs when the calling entity does not have permission to update the Doc.</p> <ul> <li><code>404</code> \u2014 Not Found</li> </ul> <p>Occurs when the specified Doc ID does not exist</p>"},{"location":"api-reference/docs/lists-update/lists-add-relists-content-migration/","title":"Add Lists through Relists or Content Migration","text":""},{"location":"api-reference/docs/lists-update/lists-add-relists-content-migration/#add-lists-through-relists-or-contents-migration","title":"Add Lists through Relists or Contents Migration","text":"<p>Adds lists to an existing Docs account through:</p> <ul> <li>Reverts (Relists)</li> <li>Contents Migration</li> </ul> <p>Endpoint</p> <p>POST /v1/docs/lists</p> <p>Required Headers</p> Header Required Type Description <code>X-Docs-ID</code> Yes string Customer Docs account ID <code>Docs-Entity-ID</code> Yes string Third-party entity identifier <code>X-Idempotency-Key</code> Yes string Request idempotency key <code>Content-Type</code> Yes string <code>application/json</code> <p>Request Body</p> <ul> <li>Top-Level Fields</li> </ul> Field Type Required Description <code>externalId</code> string Yes Third-party transfer reference <code>type</code> string Yes <code>Orderrevert</code> or <code>contentsMigration</code> <code>description</code> string No Operation description <code>transactionBreakdown</code> array Yes Docs update records <code>metadata</code> object No Additional classification data <ul> <li>transactionBreakdown Object</li> </ul> Field Type Required Description <code>referenceId</code> string Yes* Reference transaction ID <code>docsMethod</code> string Yes* <code>manual</code>, <code>online</code>, or <code>contentsMigration</code> <code>amount.value</code> number Yes Lists credited <code>amount.type</code> string Yes Currency/type <ul> <li> <p>* Rules:</p> </li> <li> <p>If <code>referenceId</code> is unavailable for contents migration, <code>externalId</code> is accepted.</p> </li> <li>If <code>docsMethod</code> is unavailable, <code>contentsMigration</code> is accepted for this use case.</li> </ul> <p>Example \u2014 Revert Request</p> <pre><code>{\n  \"externalId\": \"1234hshs\",\n  \"type\": \"Orderrevert\",\n  \"description\": \"Full revert order - abgd-ouyg\",\n  \"transactionBreakdown\": [\n    {\n      \"referenceId\": \"RRN12345\",\n      \"docsMethod\": \"manual\",\n      \"amount\": {\n        \"value\": 15,\n        \"type\": \"SAR\"\n      }\n    },\n    {\n      \"referenceId\": \"RRN789\",\n      \"docsMethod\": \"online\",\n      \"amount\": {\n        \"value\": 20.25,\n        \"type\": \"SAR\"\n      }\n    }\n  ],\n  \"metadata\": {\n    \"flow\": \"OrderrevertFull | OrderrevertPartial\",\n    \"field\": \"value\"\n  }\n}\n</code></pre> <p>Example Revert Response \u2014 201 Created</p> <pre><code>{\n  \"id\": \"789e4567-e89b-12d3-a456-426614178901\",\n  \"externalId\": \"1234hshs\",\n  \"type\": \"Orderrevert\",\n  \"DocsId\": \"{Docs-id}\",\n  \"description\": \"Full revert order - abgd-ouyg\",\n  \"status\": \"Completed\",\n  \"creationDateTime\": \"2023-12-01T00:00:00Z\",\n  \"amount\": {\n    \"value\": 35.25,\n    \"type\": \"SAR\"\n  },\n  \"transactionBreakdown\": [\n    {\n      \"referenceId\": \"RRN12345\",\n      \"docsMethod\": \"manual\",\n      \"amount\": {\n        \"value\": 15,\n        \"type\": \"SAR\"\n      }\n    },\n    {\n      \"referenceId\": \"RRN789\",\n      \"docsMethod\": \"online\",\n      \"amount\": {\n        \"value\": 20.25,\n        \"type\": \"SAR\"\n      }\n    }\n  ],\n  \"metadata\": {\n    \"flow\": \"OrderrevertFull | OrderrevertPartial\",\n    \"field\": \"value\"\n  }\n}\n</code></pre> <p>Example Content Migration Response</p> <pre><code>{\n  \"id\": \"789e4567-e89b-12d3-a456-426614178901\",\n  \"externalId\": \"1234hshs\",\n  \"type\": \"contentsMigration\",\n  \"description\": \"contents migration of the hsaerty user\",\n  \"status\": \"Completed\",\n  \"creationDateTime\": \"2023-12-01T00:00:00Z\",\n  \"amount\": {\n    \"value\": 15,\n    \"type\": \"SAR\"\n  },\n  \"transactionBreakdown\": [\n    {\n      \"referenceId\": \"{externalId}\",\n      \"docsMethod\": \"contentsMigration\",\n      \"amount\": {\n        \"value\": 15,\n        \"type\": \"SAR\"\n      }\n    }\n  ],\n  \"metadata\": {\n    \"field\": \"value\"\n  }\n}\n</code></pre> <p>Status Codes</p> Status Code Meaning 201 Created Lists successfully added 400 Bad Request Invalid request 401 Unauthorized Authentication failure 403 Forbidden Access denied 404 Not Found Docs account not found 409 Conflict Duplicate request 422 Unprocessable Entity Invalid update data 500 Internal Server Error System failure <p>Error Response Structure</p> <pre><code>{\n  \"error\": {\n    \"code\": \"string\",\n    \"message\": \"string\",\n    \"details\": {}\n  }\n}\n</code></pre> <p>Common Errors</p> <ul> <li><code>400</code> \u2014 Bad Request</li> </ul> <p>Occurs when the required fields are missing or the JSON body is malformed.</p> <ul> <li><code>403</code> \u2014 Forbidden</li> </ul> <p>Occurs when the calling entity does not have permission to add lists to the specified Docs account.</p> <ul> <li><code>409</code> \u2014 Conflict</li> </ul> <p>Occurs when the same idempotency key was used for a request already processed successfully.</p> <ul> <li><code>422</code> \u2014 Unprocessable Entity</li> </ul> <p>Occurs when an unsupported <code>type</code> is provided or the <code>docsMethod</code> contains an unsupported value (unless allowed by special-case rules), or the numeric fields are invalid.</p>"},{"location":"core-concepts/authentication-and-authorization/","title":"Authentication and authorization","text":""},{"location":"core-concepts/authentication-and-authorization/#authentication-and-authorization","title":"Authentication and authorization","text":"<p>Every API request requires an authenticated session. The Docs Gateway service provides an independent interface through which third parties can use Docs services, by implementing authentication through Docs STS (Docs Security Token Service). STS is an OAuth2 server designed to provide the means of authentication, authorization, and accounting for service-to-service communication. STS provides each service with an identity that enables other services to trust it.</p> <ul> <li> <p>Authentication - Authentication is the act of proving an assertion, to verify the user or the service identity.</p> </li> <li> <p>Authorization - Authorization is the process of specifying access rights to a user or a service.</p> </li> <li> <p>Scopes - Scopes provide a way to limit the amount of access that's granted to an access token.</p> </li> </ul> <p>STS ensures that the proper authentication and security measures are in place before interacting with the services that the Docs teams own. Docs STS service provides authentication/authorization/token management and only the scope is managed by the Global Docs service.</p>"},{"location":"core-concepts/authentication-and-authorization/#generate-token-for-docs-gateway-sts-integration","title":"Generate token for Docs Gateway STS integration","text":"<p>To generate an STS token, perform the following steps:</p> <ol> <li>Download <code>generate_token_prod.sh</code> for production</li> <li>Save the script locally to the <code>generate_token.sh</code> file.</li> <li>Run <code>chmod +x ./generate_token_prod.sh</code></li> <li>Copy the <code>Docs Gateway - STS Client</code> secret key for the related environment from 1Password and store it in the <code>sts_private_key.pem</code> file in the same directory where you stored the script.</li> <li> <p>Run this command to generate the token: <code>./generate_token.sh ${ClientId} ${KeyId} sts_private_key.pem  (Ex. ./generate_token.sh ft-Docs-gateway-tester 9602ac55-46f0-4296-aea6-a5bfdbd845b9 sts_private_key.pem)</code></p> </li> <li> <p>Add the Authentication header and use the token as value.</p> </li> <li>Create a Docs using Docs Gateway (with Docs STS), Docs Workflow and the Docs Service. Replace <code>ACCESS_TOKEN_GOES_HERE</code>.</li> </ol> <pre><code>   curl -X POST --location \"http://localhost:8084/v1/docs\" \\\n    -H \"Accept: application/json\" \\\n    -H \"Content-Type: application/json\" \\\n    -H \"Authorization: Bearer ACCESS_TOKEN_GOES_HERE\" \\\n    -d \"{\n   \\\"countryCode\\\": \\\"PK\\\",\n   \\\"description\\\": \\\"My first Docs\\\",\n   \\\"externalReferenceId\\\": \\\"Docs-test\\\",\n   \\\"subsidiaryId\\\": 2\n   }\"\n</code></pre>"},{"location":"core-concepts/common-error-responses-and-their-solutions/","title":"Common Error Responses and their Solutions","text":""},{"location":"core-concepts/common-error-responses-and-their-solutions/#common-error-responses-and-their-solutions","title":"Common Error Responses and their Solutions","text":"<p>400 Bad Request</p> <ul> <li><code>invalid_parameters</code>: The request contains invalid or missing parameters.</li> <li><code>invalid_amount</code>: The specified top-up amount isn't valid.</li> <li><code>invalid_type</code>: The specified type isn't supported.</li> <li><code>invalid_recurrence</code>: The specified recurrence type isn't valid.</li> <li><code>invalid_source</code>: The selected incentive source isn't supported.</li> <li><code>user_not_found</code>: The user ID specified in the request doesn't exist.</li> </ul> <p>401 Unauthorized</p> <ul> <li><code>authentication_failed</code>: The user's authentication has failed.</li> </ul> <p>403 Forbidden</p> <ul> <li><code>forbidden_action</code>: The user isn't authorized to get incentive.</li> </ul> <p>404 Not Found</p> <ul> <li><code>source_not_found</code>: The selected docs-in source isn't found or not available.</li> </ul> <p>405 Method Not Allowed</p> <ul> <li><code>method_not_allowed</code>: The HTTP method used isn't allowed for this endpoint.</li> </ul> <p>422 Unprocessable Entity</p> <ul> <li><code>top-up_failed</code>: The top-up couldn't be processed.</li> </ul> <p>429 Too Many Requests</p> <ul> <li><code>rate_limit_exceeded</code>: The rate limit for making incentive requests has been exceeded.</li> </ul> <p>500 Internal Server Error</p> <ul> <li><code>internal_server_error</code>: An unexpected error occurred on the server.</li> </ul>"},{"location":"guides/docs-creation/create-a-new-doc/","title":"Create a new doc","text":""},{"location":"guides/docs-creation/create-a-new-doc/#create-a-new-doc","title":"Create a new Doc","text":"<p>This request creates a new Docs account in the Docs ecosystem and establishes a docs container for a user. A user can have one or more docs, each identified by a unique Docs ID, linked user ID, and type.</p> <p>A Docs object represents a user's document container. When you call this endpoint:</p> <ul> <li>If the user does not exist, a new user is created automatically using <code>externalId</code>and then passing the <code>X-User-Id</code> value in the header during Docs creation.</li> <li>If the user already exists, the Docs object links to an existing <code>owner.id</code>. You must provide either: <code>owner.id</code> or <code>externalId</code></li> </ul> <p>When to Use This Endpoint</p> <p>Use this API when:</p> <ul> <li>onboarding a new customer</li> <li>creating a Docs container for an existing customer</li> <li>linking third-party customer identifiers using <code>externalId</code></li> <li>setting up onboarding flows that require Docs</li> </ul> <p>Prerequisites</p> <p>Ensure you have the following before making a request:</p> <p>Query Parameters - Required*</p> <ul> <li><code>Docs-Entity-ID</code> - the unique identifier of the third party entity</li> <li><code>X-Idempotency-Key</code> - the unique server-created key to confirm subsequent retries of the same request</li> </ul> <p>Request Parameters - Required*</p> <ul> <li><code>type</code> - the type of the Docs to be created</li> <li><code>owner</code></li> <li><code>id</code> - the unique ID of the Docs owner</li> <li><code>externalId</code>- the unique customer code of of Docs user</li> </ul>"},{"location":"guides/docs-creation/list-doc-content-and-expiring-content-by-doc-ID/","title":"List Doc contents and expiring content by Docs ID","text":""},{"location":"guides/docs-creation/list-doc-content-and-expiring-content-by-doc-ID/#list-docs-contents-and-expiring-contents-by-docs-id","title":"List Docs contents and expiring contents by Docs ID","text":"<p>This request retrieves the current Docs contents and other contents that will expire soon for a specific Docs ID. The details are retrieved using the following:</p> <p>Each Docs object contains one or more content records associated with user activity. This endpoint allows you to:</p> <ul> <li>View aggregated contents</li> <li>View account-level contents</li> <li>Identify content that is nearing expiration</li> </ul> <p>This is commonly used for:</p> <ul> <li>Customer dashboards</li> <li>Compliance monitoring</li> <li>Expiry notifications</li> <li>Reporting and reconciliation</li> </ul> <p>When to Use This Endpoint</p> <p>Use this API when you need to:</p> <ul> <li>Display all active contents for a Doc</li> <li>Track upcoming content expirations</li> <li>Perform compliance or regulatory tracking</li> <li>Show user-specific content summaries</li> </ul> <p>Prerequisites</p> <p>Before making this request, ensure you have:</p> <p>Query parameters - Required*</p> <ul> <li><code>id</code> - the unique internal identifier for the Docs</li> <li><code>Docs-Entity-ID</code> - the unique identifier of the third party entity</li> </ul> <p>The retrieved response displays the details associated with the specified Docs ID.</p>"},{"location":"guides/docs-creation/overview/","title":"Overview","text":""},{"location":"guides/docs-creation/overview/#overview","title":"Overview","text":"<p>The Docs represents an entity that holds all lists, accounts, and related docs movements. You need to create a Docs to initiate Docs update or outflow transactions. After creating a Docs, you can view the Docs details, update Docs status, and list Docs contents. For the Docs Management Module APIs, all processing will be done in a synchronous way:</p> <ul> <li>Create User</li> <li>Create Docs</li> <li>Get Docs</li> </ul>"},{"location":"guides/docs-creation/retrieve-doc-details-by-doc-id/","title":"Retrieve Doc details by Doc ID","text":""},{"location":"guides/docs-creation/retrieve-doc-details-by-doc-id/#retrieve-docs-details-by-docs-id","title":"Retrieve Docs details by Docs ID","text":"<p>This request retrieves the details of a specific Docs by the Docs ID. The details are retrieved using the following:</p> <p>Each Doc created in the Docs ecosystem is assigned a unique internal identifier. This endpoint allows you to retrieve the full details of a Doc using that identifier.</p> <p>You can use this API to:</p> <ul> <li>Verify the status of a Doc</li> <li>Retrieve ownership information</li> <li>Validate Doc existence before performing updates</li> <li>Display Doc details in customer dashboards</li> </ul> <p>When to Use This Endpoint</p> <p>Use this API when you need to:</p> <ul> <li>Display Doc details in an application</li> <li>Verify whether a Doc is active, locked, or terminated</li> <li>Confirm ownership of a Doc</li> <li>Perform pre-checks before updating a Doc</li> </ul> <p>Prerequisites</p> <p>Before calling this API, ensure you have:</p> <p>Query parameters - Required*</p> <ul> <li><code>id</code> - the unique identifier created by Docs Service for each Docs object</li> <li><code>Docs-Entity-ID</code> - the unique identifier of the third party entity</li> </ul> <p>The retrieved response displays the details associated with the specified Docs ID.</p>"},{"location":"guides/docs-creation/update-doc-status/","title":"Update Doc Status","text":""},{"location":"guides/docs-creation/update-doc-status/#update-docs-status","title":"Update Docs status","text":"<p>This request updates the Docs status. Each Doc in the Docs ecosystem operates under a specific status that determines its availability and behavior. This endpoint allows you to change the status of a Doc using a PATCH operation. The various Docs statuses are described below:</p> <ul> <li> <p>Active - The Docs account is active and is fully operational. All Docs activity is operational.</p> </li> <li> <p>Pending - The Docs account is pending and is partially operational. Docs activity related to lists will be pending.</p> </li> <li> <p>Blocked - The Docs account is blocked and is fully non-operational.</p> </li> </ul> <p>When to Use This Endpoint</p> <p>Use this API when you need to:</p> <ul> <li>Activate a newly created Doc</li> <li>Temporarily suspend a Doc</li> <li>Block access to a Doc for compliance or security reasons</li> <li>Resume Doc operations after review</li> </ul> <p>Prerequisites</p> <p>Before updating a Doc\u2019s status, ensure you have:</p> <p>Query parameters - Required*</p> <ul> <li>id - the unique internal identifier of the Docs to update</li> <li>Docs-Entity-ID - the unique identifier of the third party entity</li> </ul> <p>Request Parameters - Required*</p> <ul> <li>path - the property to be updated, e.g. status</li> <li>op - the operation to be performed, e.g. replace</li> <li>value - the status to be applied, e.g. block</li> </ul>"},{"location":"guides/docs-update-via-lists/add-lists-through-relists-or-content-migration/","title":"Add Lists through Relists or Content Migration","text":""},{"location":"guides/docs-update-via-lists/add-lists-through-relists-or-content-migration/#add-lists-through-relists-or-contents-migration","title":"Add Lists through Relists or Contents Migration","text":"<p>This request adds lists to an existing customer Docs account via relists or contents migrations. This endpoint credits lists to a customer's Docs account as part of:</p> <ul> <li>A relist/revert operation, or</li> <li>A contents migration operation</li> </ul> <p>Each request records:</p> <ul> <li>The update source (manual or online)</li> <li>The amount credited</li> <li>A reference ID for reconciliation and reporting</li> </ul> <p>When to Use This Endpoint</p> <p>Use this API when you need to:</p> <ul> <li>Credit lists after an order revert</li> <li>Migrate contents from another system into Docs</li> <li>Adjust customer balances due to operational corrections</li> <li>Track Docs updates for reconciliation and reporting</li> </ul> <p>Prerequisites</p> <p>Ensure you have the following before making a request:</p> <p>Query Parameters - Required*</p> <ul> <li> <p><code>X-Docs-ID</code> - the unique customer Docs account ID</p> </li> <li> <p><code>Docs-Entity-ID</code> - the unique identifier of the third party entity</p> </li> <li> <p><code>X-Idempotency-Key</code> - the unique server-created key to confirm subsequent retries of the same request</p> </li> </ul> <p>Request Parameters - Required*</p> <ul> <li> <p><code>externalId</code> - the unique identifier provided by the third party for each successful docs transfer. The field is going to be used to fetch lists and to map docs transfers with a unique identifier on the third party side by any reporting/ data analytics job.</p> </li> <li> <p><code>type</code> - the docs type referring to whether the docs is a revert or contents migration</p> </li> <li> <p><code>transactionBreakdown</code> - detailed breakdown of the corresponding docs transfers</p> </li> <li> <p><code>referenceId</code> - the unique ID which identifies the origin of the docs update transaction. This is the initial ID associated with the relevant docs transfer and can be used for the mapping with System Service Accounts along with reconciliation.</p> </li> <li> <p><code>docsMethod</code> - the method of update, that's online or manual Note: manual should be specifically mentioned for proper categorization. The third party is responsible for accurately identifying whether the source is manual or another method. There are no restrictions on the values for non-manual update methods.</p> </li> <li> <p><code>amount</code>- The amount of lists to be credited to the Docs for each update method. For instance, if a revert request involves both manual and credit online, there should be separate entries for each method with the respective amounts.</p> <ul> <li> <p><code>type</code> - The type of type</p> </li> <li> <p><code>value</code> - the priority value associated with the transaction</p> </li> </ul> </li> </ul> <p>URL</p> <p><code>{URL}/v1/docs/lists</code></p> <p>METHOD POST</p> <p>SUCCESS RESPONSE</p> <p>201: The docs is added to the selected Docs account.</p> <p>Sample Request for Revert</p> <pre><code>{\n    \"externalId\": \"1234hshs\",\n    \"type\": \"Orderrevert\",\n    \"description\": \"Full revert order - abgd-ouyg\",\n    \"transactionBreakdown\": [\n        {\n            \"referenceId\": \"RRN12345 \",\n            \"docsMethod\": \"manual\",\n            \"amount\": {\n                \"value\": 15,\n                \"type\": \"SAR\"\n            }\n        },\n        {\n            \"referenceId\": \"RRN789\",\n            \"docsMethod\": \"online\",\n            \"amount\": {\n                \"value\": 20.25,\n                \"type\": \"SAR\"\n            }\n        }\n    ],\n    \"metadata\": {\n        \"flow\": \"OrderrevertFull | OrderrevertPartial\",\n        \"field\": \"value\"\n    }\n}\n</code></pre> <p>Sample Response for revert</p> <pre><code>{\n\"id\":\"789e4567-e89b-12d3-a456-426614178901\",\n\"externalId\": \"1234hshs\",\n\"type\": \"Orderrevert\",\n\"DocsId\": \"{Docs-id}\",\n\"description\": \"Full revert order - abgd-ouyg\",\n\"status\": \"Completed\",\n\"creationDateTime\": \"2023-12-01T00:00:00Z\",\n\"amount\": {\n\"value\": 35.25,\n\"type\": \"SAR\"\n}\n\"transactionBreakdown\": [\n{\n\"referenceId\": \"RRN12345 \",\n\"docsMethod\": \"manual\",\n\"amount\": {\n\"value\": 15,\n\"type\": \"SAR\"\n}\n},\n{\n\"referenceId\": \"RRN789\",\n\"docsMethod\": \"online\",\n\"amount\": {\n\"value\": 20.25,\n\"type\": \"SAR\"\n}\n}\n],\n\"metadata\": {\n\"flow\": \"OrderrevertFull | OrderrevertPartial\",\n\"field\": \"value\"\n}\n}\n</code></pre> <p>Sample Request for Contents Migration</p> <pre><code>{\n\"externalId\": \"1234hshs\",\n\"type\": \"contentsMigration\",\n\"description\": \"contents migration of the hsaerty user\",\n\"transactionBreakdown\": [\n{\n\"referenceId\": \"RRN9876 \",--If referenceID is not available, \"externalID\" is also acceptable for only contents Migration use case.\n\"docsMethod\": \"online\",--If docsMethod is not available, \"contentsMigration\" is also acceptable for only contents Migration use case.\n\"amount\": {\n\"value\": 15,\n\"type\": \"SAR\"\n}\n}\n],\n\"metadata\": {\n\"field\": \"value\"\n}\n}\n</code></pre> <p>Sample Response for contents Migration</p> <pre><code>{\n\"id\":\"789e4567-e89b-12d3-a456-426614178901\",\n\"externalId\": \"1234hshs\",\n\"type\": \"contentsMigration\",\n\"description\": \"contents migration of the hsaerty user\",\n\"status\": \"Completed\",\n\"creationDateTime\": \"2023-12-01T00:00:00Z\",\n\"amount\": {\n\"value\":15,\n\"type\": \"SAR\"\n}\n\"transactionBreakdown\": [\n{\n\"referenceId\": \"{externalId} \",\n\"docsMethod\": \"contentsMigration\",\n\"amount\": {\n\"value\": 15,\n\"type\": \"SAR\"\n}\n}\n],\n\"metadata\": {\n\"field\": \"value\"\n}\n}\n</code></pre>"},{"location":"guides/docs-update-via-lists/cancel-a-specific-doc/","title":"Cancel a Specific Doc","text":""},{"location":"guides/docs-update-via-lists/cancel-a-specific-doc/#cancel-a-specific-doc","title":"Cancel a Specific Doc","text":"<p>This request cancels a specific docs transfer that is initiated by the user. For example, the user may request the cancellation of a revert to Docs transaction and initiate the request for revert to source. The cancellation request contains the following:</p> <p>Query parameters - Required*</p> <ul> <li><code>id</code> - the unique identifier created internally by Docs for each successful docs transfer</li> <li><code>X-Docs-ID</code> - the unique customer Docs account ID</li> <li><code>Docs-Entity-ID</code> - the unique identifier of the third party entity</li> </ul> <p>URL</p> <p><code>{URL}/v1/docs/lists/{id}/cancel</code></p> <p>Method</p> <p>PATCH</p> <p>SUCCESS RESPONSE</p> <p>200: The requested docs is canceled.</p> <p>SAMPLE RESPONSE</p> <pre><code>{\n  \"id\": \"0f5w7ir5wcqj8ydeih3wpv0807\",\n  \"externalId\": \"1234hshs\",\n  \"DocsId\": \"{Docs-id}\",\n  \"type\": \"Orderrevert\",\n  \"status\": \"Completed\",\n  \"description\": \"string\",\n  \"creationDateTime\": \"2023-12-01T00:00:00Z\",\n  \"amount\": {\n    \"type\": \"SAR\",\n    \"value\": 5\n  },\n  \"transactionBreakdown\": [\n    {\n      \"referenceId\": \"RRN12345 \",\n      \"docsMethod\": \"manual | online\",\n      \"amount\": {\n        \"type\": \"SAR\",\n        \"value\": 5\n      }\n    }\n  ],\n  \"metadata\": {\n    \"flow\": \"OrderrevertFull | OrderrevertPartial\"\n  }\n}\n</code></pre>"},{"location":"guides/docs-update-via-lists/overview/","title":"Overview","text":""},{"location":"guides/docs-update-via-lists/overview/#overview","title":"Overview","text":"<p>After creating a Docs account, you can add details to the Docs by reverting to Docs or contents migrations, and also view and cancel existing lists.</p> <ul> <li> <p>revert - This refers to relists that have been made to your Docs due to order cancellations.</p> </li> <li> <p>contents migration - When migrating to the Global Docs solution, the existing customer contents are transferred to the docs and moved to the top-up Docs account.</p> </li> </ul>"}]}